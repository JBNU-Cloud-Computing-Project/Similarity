# WordTreasure ìœ ì‚¬ë„ ê³„ì‚° ì„œë¹„ìŠ¤

AI ê¸°ë°˜ í•œêµ­ì–´ ë‹¨ì–´ ìœ ì‚¬ë„ ì¸¡ì • ë° **ë§¥ë½ì  íŒíŠ¸ ìƒì„±** ì„œë¹„ìŠ¤

## ğŸ“‹ Phase 1+2 Enhanced êµ¬í˜„ ê¸°ëŠ¥

### âœ… êµ¬í˜„ ì™„ë£Œ
- **ì˜ë¯¸ ìœ ì‚¬ë„ (Semantic)**: ë¬¸ì¥ ì„ë² ë”© ê¸°ë°˜ ì½”ì‚¬ì¸ ìœ ì‚¬ë„
- **ê´€ê³„ ìœ ì‚¬ë„ (Relational)**: NLI ëª¨ë¸ ê¸°ë°˜ ë§¥ë½ ê´€ê³„ ë¶„ì„
- **í˜•íƒœ ìœ ì‚¬ë„ (Formative)**: ìëª¨ ë¶„í•´ í¸ì§‘ê±°ë¦¬ ê³„ì‚°
- **ğŸŒŸ ë§¥ë½ì  íŒíŠ¸ (NEW)**: ì…ë ¥-ì •ë‹µ ê°„ ê´€ê³„ ë¶„ì„ ê¸°ë°˜ ìì—°ìŠ¤ëŸ¬ìš´ íŒíŠ¸
- **ğŸŒŸ ê´€ê³„ ìœ í˜• ë¶„ì„ (NEW)**: 10ê°€ì§€ ê´€ê³„ íŒ¨í„´ ìë™ ì¸ì‹
- **ë°˜ì˜ì–´ ê°ì **: ëª¨ìˆœ ê´€ê³„ ìë™ ê°ì§€

### ğŸ’¡ ë§¥ë½ì  íŒíŠ¸ ì‹œìŠ¤í…œ

**ê¸°ì¡´ ë°©ì‹:**
```
ì…ë ¥: "ì¹œêµ¬" â†’ ì •ë‹µ: "ë°°ì‹ "
íŒíŠ¸: "ë¹„ìŠ·í•œ ë°©í–¥ì´ì—ìš”" âŒ (ë„ˆë¬´ ì¼ë°˜ì )
```

**ìƒˆë¡œìš´ ë°©ì‹:**
```
ì…ë ¥: "ì¹œêµ¬" â†’ ì •ë‹µ: "ë°°ì‹ "
ê´€ê³„ ë¶„ì„: "ì‚¬ëŒê´€ê³„" (í™•ì‹ ë„ 0.82)
íŒíŠ¸: "ì¹œêµ¬ ì‚¬ì´ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì´ì—ìš”" âœ… (ë§¥ë½ì )
```

**ì§€ì›í•˜ëŠ” ê´€ê³„ ìœ í˜•:**
1. ìƒí™©ë°œìƒ - "X ìƒí™©ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒ"
2. ê°ì •ì›ì¸ - "Xì—ì„œ ë¹„ë¡¯ë˜ëŠ” ê°ì •"
3. ì†ì„±ê´€ê³„ - "Xì˜ ì„±ì§ˆì„ ê°€ì§„ ê²ƒ"
4. ì‚¬ëŒê´€ê³„ - "X ì‚¬ì´ì—ì„œ ë°œìƒí•˜ëŠ” ê²ƒ"
5. ìœ ì‚¬ì¥ë¥´ - "Xì™€ ë¹„ìŠ·í•œ ë°©ì‹"
6. ë°˜ëŒ€ê´€ê³„ - "Xì™€ ë°˜ëŒ€ë˜ëŠ” ê²ƒ"
7. ì¥ì†Œê´€ê³„ - "Xì—ì„œ ê²½í—˜í•  ìˆ˜ ìˆëŠ” ê²ƒ"
8. ì‹œê°„ê´€ê³„ - "X ì‹œê¸°ì— ì¼ì–´ë‚˜ëŠ” ê²ƒ"
9. ë¶€ë¶„ì „ì²´ - "Xì˜ í•œ ë¶€ë¶„"
10. ê²°ê³¼ê´€ê³„ - "Xì˜ ê²°ê³¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒ"

### ğŸ”œ Phase 3 ì˜ˆì •
- ë„ë©”ì¸ ê²Œì´íŒ… (ê²Œì„/ìŒì‹/ê°ì • ë“±)
- ì¹´í…Œê³ ë¦¬ íŠ¹í™” ë©”ì¹´ë‹‰ ë¶„ì„
- ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ì‹œìŠ¤í…œ

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì„¤ì •

**Python 3.9 ì´ìƒ í•„ìš”**

```bash
# ê°€ìƒí™˜ê²½ ìƒì„± (ê¶Œì¥)
python -m venv venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate

# íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install -r requirements.txt
```

### 2. ì„œë²„ ì‹¤í–‰

```bash
python main.py
```

**ì²« ì‹¤í–‰ ì‹œ:**
- ëª¨ë¸ ìë™ ë‹¤ìš´ë¡œë“œ (~1.5GB)
- ì•½ 30-60ì´ˆ ì†Œìš”
- ì´í›„ ì‹¤í–‰ì€ ì¦‰ì‹œ ì‹œì‘

**ì‹¤í–‰ í™•ì¸:**
```
ğŸš€ WordTreasure ìœ ì‚¬ë„ ì„œë¹„ìŠ¤ ì‹œì‘
ğŸ“¦ ëª¨ë¸ ë¡œë”© ì‹œì‘... (ì•½ 30ì´ˆ ì†Œìš”)
âœ… Semantic ëª¨ë¸ ë¡œë”© ì™„ë£Œ
âœ… NLI ëª¨ë¸ ë¡œë”© ì™„ë£Œ
ğŸš€ ëª¨ë“  ëª¨ë¸ ë¡œë”© ì™„ë£Œ!
ğŸŒ ì„œë²„ ì¤€ë¹„ ì™„ë£Œ: http://0.0.0.0:8000
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### curlë¡œ í…ŒìŠ¤íŠ¸

```bash
# ì˜ˆì‹œ 1: ì¹œêµ¬ â†’ ë°°ì‹ 
curl -X POST "http://localhost:8000/api/similarity/calculate" \
  -H "Content-Type: application/json" \
  -d '{
    "user_input": "ì¹œêµ¬",
    "answer": "ë°°ì‹ "
  }'

# ì˜ˆì‹œ 2: ë§ˆí”¼ì•„ â†’ ë¼ì´ì–´ ê²Œì„
curl -X POST "http://localhost:8000/api/similarity/calculate" \
  -H "Content-Type: application/json" \
  -d '{
    "user_input": "ë§ˆí”¼ì•„",
    "answer": "ë¼ì´ì–´ ê²Œì„"
  }'

# ì˜ˆì‹œ 3: ì •ë‹µ ì…ë ¥
curl -X POST "http://localhost:8000/api/similarity/calculate" \
  -H "Content-Type: application/json" \
  -d '{
    "user_input": "ë°°ì‹ ",
    "answer": "ë°°ì‹ "
  }'
```

### ì‘ë‹µ ì˜ˆì‹œ

**ì˜ˆì‹œ 1: ë§¥ë½ì  íŒíŠ¸ (ì‚¬ëŒê´€ê³„)**
```bash
curl -X POST "http://localhost:8000/api/similarity/calculate" \
  -H "Content-Type: application/json" \
  -d '{"user_input": "ì¹œêµ¬", "answer": "ë°°ì‹ "}'
```
```json
{
  "similarity_score": 45.32,
  "hint": "ì¹œêµ¬ ì‚¬ì´ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì´ì—ìš”",
  "category_match": false,
  "breakdown": {
    "semantic": 0.62,
    "relational": 0.38,
    "formative": 0.15,
    "contradiction": 0.05
  },
  "processing_time_ms": 145.67
}
```

**ì˜ˆì‹œ 2: ë§¥ë½ì  íŒíŠ¸ (ìœ ì‚¬ì¥ë¥´)**
```bash
curl -X POST "http://localhost:8000/api/similarity/calculate" \
  -H "Content-Type: application/json" \
  -d '{"user_input": "ë§ˆí”¼ì•„", "answer": "ë¼ì´ì–´ ê²Œì„"}'
```
```json
{
  "similarity_score": 78.45,
  "hint": "ë§ˆí”¼ì•„ì™€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” ê²ƒì´ì—ìš”",
  "category_match": false,
  "breakdown": {
    "semantic": 0.72,
    "relational": 0.81,
    "formative": 0.35,
    "contradiction": 0.0
  },
  "processing_time_ms": 138.92
}
```

---

## ğŸ”Œ Spring Boot ì—°ë™

### 1. DTO í´ë˜ìŠ¤ ìƒì„±

```java
// SimilarityRequest.java
@Data
public class SimilarityRequest {
    private String userInput;
    private String answer;
}

// SimilarityResponse.java
@Data
public class SimilarityResponse {
    private Double similarityScore;
    private String hint;
    private Boolean categoryMatch;
    private Map<String, Double> breakdown;
    private Double processingTimeMs;
}
```

### 2. ì„œë¹„ìŠ¤ êµ¬í˜„

```java
@Service
public class PythonSimilarityCalculator implements SimilarityCalculator {
    
    private final RestTemplate restTemplate;
    private final String pythonServiceUrl = "http://localhost:8000";
    
    @Override
    public BigDecimal calculateSimilarity(String userInput, String answer) {
        SimilarityRequest request = new SimilarityRequest();
        request.setUserInput(userInput);
        request.setAnswer(answer);
        
        SimilarityResponse response = restTemplate.postForObject(
            pythonServiceUrl + "/api/similarity/calculate",
            request,
            SimilarityResponse.class
        );
        
        return BigDecimal.valueOf(response.getSimilarityScore());
    }
    
    @Override
    public String generateHint(String userInput, String answer, BigDecimal similarity) {
        // Python ì„œë¹„ìŠ¤ì—ì„œ ì´ë¯¸ íŒíŠ¸ë¥¼ ìƒì„±í•˜ë¯€ë¡œ ì¬ì‚¬ìš©
        SimilarityRequest request = new SimilarityRequest();
        request.setUserInput(userInput);
        request.setAnswer(answer);
        
        SimilarityResponse response = restTemplate.postForObject(
            pythonServiceUrl + "/api/similarity/calculate",
            request,
            SimilarityResponse.class
        );
        
        return response.getHint();
    }
}
```

### 3. RestTemplate ì„¤ì •

```java
@Configuration
public class RestTemplateConfig {
    
    @Bean
    public RestTemplate restTemplate() {
        SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();
        factory.setConnectTimeout(5000);  // 5ì´ˆ
        factory.setReadTimeout(10000);    // 10ì´ˆ
        
        return new RestTemplate(factory);
    }
}
```

### 4. ê¸°ì¡´ TemporarySimilarityCalculator ëŒ€ì²´

```java
// application.yml
spring:
  profiles:
    active: prod  # ë˜ëŠ” local

---
# local í”„ë¡œí•„ì—ì„œëŠ” ì„ì‹œ ê³„ì‚°ê¸° ì‚¬ìš©
spring:
  config:
    activate:
      on-profile: local

@Profile("local")
@Component
class TemporarySimilarityCalculator implements SimilarityCalculator { ... }

---
# prod í”„ë¡œí•„ì—ì„œëŠ” Python ì„œë¹„ìŠ¤ ì‚¬ìš©
spring:
  config:
    activate:
      on-profile: prod

@Profile("prod")
@Primary
@Component  
class PythonSimilarityCalculator implements SimilarityCalculator { ... }
```

---

## ğŸ“Š API ë¬¸ì„œ

ì„œë²„ ì‹¤í–‰ í›„ ìë™ ìƒì„±:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

---

## âš™ï¸ ì„¤ì • ë³€ê²½

`config.py` íŒŒì¼ì—ì„œ ì¡°ì • ê°€ëŠ¥:

```python
# ê°€ì¤‘ì¹˜ ì¡°ì •
WEIGHTS = {
    "semantic": 0.50,      # ì˜ë¯¸ ìœ ì‚¬ë„
    "relational": 0.35,    # ê´€ê³„ ìœ ì‚¬ë„
    "formative": 0.15,     # í˜•íƒœ ìœ ì‚¬ë„
}

# NLI í…œí”Œë¦¿ ì¶”ê°€/ìˆ˜ì •
NLI_TEMPLATES = [
    "{input}ì€ {answer}ê³¼ ê´€ë ¨ì´ ìˆë‹¤.",
    # ìƒˆ í…œí”Œë¦¿ ì¶”ê°€...
]
```

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨
```bash
# Hugging Face í† í° ì„¤ì • (í•„ìš”ì‹œ)
export HF_TOKEN="your_token_here"
```

### ë©”ëª¨ë¦¬ ë¶€ì¡±
```python
# config.pyì—ì„œ ë” ì‘ì€ ëª¨ë¸ë¡œ ë³€ê²½
SEMANTIC_MODEL = "sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2"
```

### ì‘ë‹µ ì‹œê°„ ëŠë¦¼
- GPU ì‚¬ìš© ê¶Œì¥ (config.pyì—ì„œ device=0)
- ë˜ëŠ” ë°°ì¹˜ ì²˜ë¦¬ êµ¬í˜„

---

## ğŸ“ˆ ì„±ëŠ¥ ëª©í‘œ

- **ì‘ë‹µ ì‹œê°„**: < 150ms (p95)
- **ì²« ìš”ì²­**: < 200ms (ëª¨ë¸ ìºì‹œ í›„)
- **ë©”ëª¨ë¦¬ ì‚¬ìš©**: ~2GB

---

## ğŸ”„ ë‹¤ìŒ ë‹¨ê³„ (Phase 3)

1. ë„ë©”ì¸ ê²Œì´íŒ… ì‹œìŠ¤í…œ
2. Redis ìºì‹±
3. ë°°ì¹˜ ì²˜ë¦¬
4. ë¡œê·¸ ìˆ˜ì§‘ ë° ë¶„ì„
5. AWS ë°°í¬ (Lambda/EC2)

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License